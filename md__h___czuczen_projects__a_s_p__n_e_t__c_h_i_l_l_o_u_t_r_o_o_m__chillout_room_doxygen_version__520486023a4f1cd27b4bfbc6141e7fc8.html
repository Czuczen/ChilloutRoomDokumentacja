<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ChilloutRoom: Push.js</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="faviconDoxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">ChilloutRoom
   </div>
   <div id="projectbrief">Dokumentacja w trakcie tworzenia</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Push.js </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/Nickersoft/push.js"><img src="https://travis-ci.org/Nickersoft/push.js.svg?branch=master" alt="Build Status" style="pointer-events: none;" class="inline"/></a> <a href="https://npmjs.com/package/push.js"><img src="https://badge.fury.io/js/push.js.svg" alt="npm version" style="pointer-events: none;" class="inline"/></a> <a href="https://npmjs.com/package/push.js"><img src="https://img.shields.io/npm/dt/push.js.svg" alt="npm" style="pointer-events: none;" class="inline"/></a> <a href="https://coveralls.io/github/Nickersoft/push.js?branch=master"><img src="https://coveralls.io/repos/github/Nickersoft/push.js/badge.svg?branch=master" alt="Coverage Status" style="pointer-events: none;" class="inline"/></a> <a href="https://snyk.io/test/github/nickersoft/push.js"><img src="https://snyk.io/test/github/nickersoft/push.js/badge.svg" alt="Known Vulnerabilities" style="pointer-events: none;" class="inline"/></a></p>
<h2><a class="anchor" id="autotoc_md249"></a>
What is Push?</h2>
<p>Push is the fastest way to get up and running with Javascript desktop notifications. A fairly new addition to the official specification, the Notification API allows modern browsers such as Chrome, Safari, Firefox, and IE 9+ to push notifications to a user's desktop. Push acts as a cross-browser solution to this API, falling back to use older implementations if the user's browser does not support the new API.</p>
<p>You can quickly install Push via <a href="http://npmjs.com">npm</a>:</p>
<div class="fragment"><div class="line">npm install push.js --save</div>
</div><!-- fragment --><p>Or, if you want something a little more lightweight, you can give <a href="http://bower.io">Bower</a> a try:</p>
<div class="fragment"><div class="line">bower install push.js --save</div>
</div><!-- fragment --><p>For more information regarding the Push NPM package, <a href="https://www.npmjs.com/package/push.js">see here</a>.</p>
<h3><a class="anchor" id="autotoc_md250"></a>
Creating Notifications</h3>
<p>So just how easy is it to create a notification using Push? We can do it in just one line, actually:</p>
<div class="fragment"><div class="line">Push.create(&#39;Hello World!&#39;)</div>
</div><!-- fragment --><p>No constructors, just a universal API you can access from anywhere. Push is even compatible with AMD as well:</p>
<div class="fragment"><div class="line">define([&#39;pushjs&#39;], function (Push) {</div>
<div class="line">   Push.create(&#39;Hello World!&#39;);</div>
<div class="line">});</div>
</div><!-- fragment --><p>If the browser does not have permission to send push notifications, Push will automatically request permission as soon as create() is called. Simple as that. If you wish to know how many notifications are currently open, simply call:</p>
<div class="fragment"><div class="line">Push.count();</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md251"></a>
Closing Notifications</h3>
<p>When it comes to closing notifications, you have a few options. You can either set a timeout (see "Options"), call Push's close() method, or pass around the notification's promise object and then call close() directly. Push's close() method will only work with newer browsers, taking in a notification's unique tag name and closing the first notification it finds with that tag:</p>
<div class="fragment"><div class="line">Push.create(&#39;Hello World!&#39;, {</div>
<div class="line">    tag: &#39;foo&#39;</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Somewhere later in your code...</div>
<div class="line"> </div>
<div class="line">Push.close(&#39;foo&#39;);</div>
</div><!-- fragment --><p>Alternatively, you can assign the notification promise returned by Push to a variable and close it directly using the promise's then() method:</p>
<div class="fragment"><div class="line">var promise = Push.create(&#39;Hello World!&#39;);</div>
<div class="line"> </div>
<div class="line">// Somewhere later in your code...</div>
<div class="line"> </div>
<div class="line">promise.then(function(notification) {</div>
<div class="line">    notification.close();</div>
<div class="line">});</div>
</div><!-- fragment --><p>When it comes to clearing all open notifications, that's just as easy as well:</p>
<div class="fragment"><div class="line">Push.clear();</div>
</div><!-- fragment --><p><b>Important:</b> Although Javascript promises are <a href="http://caniuse.com/#search=promises">decently supported</a> across browsers, there are still some browsers that lack support. If you find that you are trying to support a browser that doesn't support promises, chances are it won't support notifications either. However, if you are really determined, I encourage you to checkout the lightweight <a href="https://github.com/taylorhakes/promise-polyfill">promise-polyfill</a> library by Taylor Hakes (or something similar). This library used to be bundled with Push, until it was decided that it'd be better to leave that sort of dependency to the user's discretion.</p>
<h2><a class="anchor" id="autotoc_md252"></a>
Permissions</h2>
<p>While Push automatically requests permissions before displaying a notification, you may sometimes wish to either manually request permission or view whether or not Push already has received permission to show notifications. Push uses an array of constants to keep track of its current permission level. These constants are as follows:</p>
<div class="fragment"><div class="line">Push.Permission.DEFAULT; // &#39;default&#39;</div>
<div class="line">Push.Permission.GRANTED; // &#39;granted&#39;</div>
<div class="line">Push.Permission.DENIED; // &#39;denied&#39;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md253"></a>
Requesting Permission</h3>
<p>To manually request notification permission, simply call:</p>
<div class="fragment"><div class="line">Push.Permission.request(onGranted, onDenied);</div>
</div><!-- fragment --><p>where <code>onGranted</code> is a callback function for if permision is granted, and <code>onDenied</code> is a callback function for if, you guessed it, the permission is denied. Note that if <code>Permission.DEFAULT</code> is returned, no callback is executed.</p>
<h3><a class="anchor" id="autotoc_md254"></a>
Reading Permission</h3>
<p>To find out whether or not Push has permission to show notifications, just call:</p>
<div class="fragment"><div class="line">Push.Permission.has();</div>
</div><!-- fragment --><p>which will return a boolean value denoting permission.</p>
<h3><a class="anchor" id="autotoc_md255"></a>
Native Permission Levels</h3>
<p>If you feel like being <em>really</em> geeky, you can get the raw permission level from native API itself (scary stuff, I know) using:</p>
<div class="fragment"><div class="line">Push.Permission.get();</div>
</div><!-- fragment --><p>This returns a string value which may or may not coincidentally be represented by Push's constants. Use this info as you please.</p>
<h2><a class="anchor" id="autotoc_md256"></a>
Options</h2>
<p>The only required argument in a Push call is a title. However, that doesn't mean you can't add a little something extra. You can pass in options to Push as well, like so:</p>
<div class="fragment"><div class="line">Push.create(&#39;Hello World!&#39;, {</div>
<div class="line">    body: &#39;This is some body content!&#39;,</div>
<div class="line">    icon: {</div>
<div class="line">        x16: &#39;images/icon-x16.png&#39;,</div>
<div class="line">        x32: &#39;images/icon-x32.png&#39;</div>
<div class="line">    },</div>
<div class="line">    timeout: 5000</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md257"></a>
Available Options</h3>
<ul>
<li><b>body</b>: The body text of the notification.</li>
<li><b>data</b>: Data to pass to ServiceWorker notifications</li>
<li><b>icon</b>: Can be either the URL to an icon image or an array containing 16x16 and 32x32 pixel icon images (see above).</li>
<li><b>link</b>: A relative URL path to navigate to when the user clicks on the notification on mobile (e.g. if you want users to navigate to your page <code><a href="http://example.com/page">http://example.com/page</a></code>, then the relative URL is just <code>page</code>). If the page is already open in the background, then the browser window will automatically become focused. Requires the <code>serviceWorker.js</code> file to be present on your server to work.</li>
<li><b>onClick</b>: Callback to execute when the notification is clicked.</li>
<li><b>onClose</b>: Callback to execute when the notification is closed (obsolete).</li>
<li><b>onError</b>: Callback to execute when if the notification throws an error.</li>
<li><b>onShow</b>: Callback to execute when the notification is shown (obsolete).</li>
<li><b>requireInteraction</b>: When set to true, the notification will not close unless the user manually closes or clicks on it.</li>
<li><b>serviceWorker</b>: Path to the <a href="https://developers.google.com/web/fundamentals/getting-started/push-notifications/step-03?hl=en">service worker</a> script registered on Push mobile. Defaults to "serviceWorker.js" if a path is not specified.</li>
<li><b>tag</b>: Unique tag used to identify the notification. Can be used to later close the notification manually.</li>
<li><b>timeout</b>: Time in milliseconds until the notification closes automatically.</li>
<li><b>vibrate</b>: An array of durations for a mobile device receiving the notification to vibrate. For example, [200, 100] would vibrate first for 200 milliseconds, pause, then continue for 100 milliseconds. For more information, see below.</li>
</ul>
<h3><a class="anchor" id="autotoc_md258"></a>
Mobile Support</h3>
<p>Push can be used on Android Chrome (apparently Safari on iOS does not have notification support), but the website in which it is running on <em><b>must</b></em> use have a valid SSL certificate (HTTPS only!!) otherwise it will not work. This is due to Google's <a href="https://groups.google.com/a/chromium.org/forum/#!topic/blink-dev/BygptYClroM">decision to drop the Notification constructor</a> from mobile Chrome. Sucks but hey, that's life, am I right?</p>
<h2><a class="anchor" id="autotoc_md259"></a>
Development</h2>
<p>If you feel like this library is your jam and you want to contribute (or you think I'm an idiot who missed something), check out Push's neat H:/Czuczen projects/ASP.NET/CHILLOUTROOM/ChilloutRoomDoxygenVersion/CzuczenLand.Web/lib/push.js/CONTRIBUTING.md "contributing guidelines" on how you can make your mark.</p>
<h2><a class="anchor" id="autotoc_md260"></a>
Credits</h2>
<p>Push is based off work the following work:</p>
<ol type="1">
<li><a href="https://github.com/ttsvetko/HTML5-Desktop-Notifications">HTML5-Desktop-Notifications</a> by <a href="https://github.com/ttsvetko">Tsvetan Tsvetkov</a></li>
<li><a href="https://github.com/alexgibson/notify.js">notify.js</a> by <a href="https://github.com/alexgibson">Alex Gibson</a></li>
</ol>
<h2><a class="anchor" id="autotoc_md261"></a>
Additional Resources</h2>
<p>Feel free to expand this list as you find more cool Push.js resources online, or a tutorial in your language:</p>
<ul>
<li><a href="https://blog.tylernickerson.com/push-js-an-introduction-49291ac986e8#.t7o5izwi9">Push.js: An Introduction</a></li>
<li><a href="https://techstory.shma.so/push-js-897d5d467f94#.3m6cp34ok">Push.js by Keen Dev</a> (Korean Tutorial)</li>
<li><a href="https://www.youtube.com/watch?v=s19Mr5AzrmA">Web Push Notification with Push.js</a> (Spanish Video Tutorial) </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
